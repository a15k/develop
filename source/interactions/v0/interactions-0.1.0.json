{"swagger":"2.0","info":{"version":"0.1.0","title":"Assessment Network Interactions API","description":"Records interactions with content distributed by the Assessment Network.\n\nRequests to this API should include `application/json` in the `Accept` header.\n\nThe desired API version is specified in the request URL, e.g. `...a15k.org/v0/flags`.          While the API does support a default version, that version will change over          time and therefore should not be used in production code!\n\nSome endpoints require an API key to be passed in the request header.  There are two          types of API keys: API tokens and API IDs.  An API token is used for more restricted          access.  Such tokens should not be shared with end users.  API IDs are used for less          restricted access and may be exposed to clients (e.g. through use in browser-side code).          Both keys are available to members through www.a15k.org.\n","termsOfService":"http://a15k.org/terms/","contact":{"name":"info@a15k.org"},"license":{"name":"MIT"}},"securityDefinitions":{"api_token":{"type":"apiKey","name":"Authorization","in":"header"},"api_id":{"type":"apiKey","name":"Authorization","in":"header"}},"tags":[{"name":"Apps","description":"Some API endpoints are limited to approved applications.  These endpoints manage these applications and are restricted to system administrators."},{"name":"Flags","description":""}],"basePath":"/api/v0","consumes":["application/json"],"produces":["application/json"],"paths":{"/flags":{"post":{"summary":"Flag some content","description":"Adds a flag to some content for some user in some app.","operationId":"createFlag","tags":["Flags"],"security":[{"api_id":[]}],"parameters":[{"name":"flag","in":"body","description":"The flag data","required":true,"schema":{"$ref":"#/definitions/FlagNew"}}],"responses":{"200":{"description":"Success.  Returns the created flag.","schema":{"$ref":"#/definitions/Flag"}},"401":{"description":"Not authorized.  Happens when API ID or origin are not set."},"403":{"description":"Forbidden.  Happens when API ID or origin are not correct."},"500":{"description":"Server error.","schema":{"$ref":"#/definitions/Error"}}}},"put":{"summary":"Update a flag","description":"Update a flag with the provided values.","operationId":"updateFlag","security":[{"api_id":[]}],"tags":["Flags"],"parameters":[{"name":"id","in":"path","description":"ID of the flag","required":true,"type":"string","format":"uuid"},{"name":"flag","in":"body","description":"The flag data","schema":{"$ref":"#/definitions/FlagUpdate"}}],"responses":{"200":{"description":"Success.  Returns the updated flag.","schema":{"$ref":"#/definitions/Flag"}},"401":{"description":"Not authorized.  Happens when API ID or origin are not set."},"403":{"description":"Forbidden.  Happens when API ID or origin are not correct."},"404":{"description":"Not found"},"500":{"description":"Server error.","schema":{"$ref":"#/definitions/Error"}}}}},"/flags/{id}":{"get":{"summary":"Retrieve a flag","description":"Retrieve a flag.  Anyone with the flag ID (very hard to guess) can retrieve it.","operationId":"getFlag","tags":["Flags"],"security":[{"api_id":[]}],"parameters":[{"name":"id","in":"path","description":"ID of the flag to retrieve","required":true,"type":"string","format":"uuid"}],"responses":{"200":{"description":"Success.  Returns the requested flag.","schema":{"$ref":"#/definitions/Flag"}},"401":{"description":"Not authorized.  Happens when API ID or origin are not set."},"403":{"description":"Forbidden.  Happens when API ID or origin are not correct."},"404":{"description":"Not found"},"500":{"description":"Server error.","schema":{"$ref":"#/definitions/Error"}}}},"delete":{"summary":"Delete a flag","description":"Delete a flag.  Anyone with the flag ID (very hard to guess) can delete it.","operationId":"deleteFlag","tags":["Flags"],"security":[{"api_id":[]}],"parameters":[{"name":"id","in":"path","description":"ID of the flag to delete","required":true,"type":"string","format":"uuid"}],"responses":{"200":{"description":"Success.  Returns the deleted flag.","schema":{"$ref":"#/definitions/Flag"}},"401":{"description":"Not authorized.  Happens when API ID or origin are not set."},"403":{"description":"Forbidden.  Happens when API ID or origin are not correct."},"404":{"description":"Not found"},"500":{"description":"Server error.","schema":{"$ref":"#/definitions/Error"}}}}},"/ratings":{"post":{"summary":"Rate some content","description":"Rates some content for some user in some app.  New ratings replace old ratings.","operationId":"createRating","tags":["Ratings"],"security":[{"api_id":[]}],"parameters":[{"name":"rating","in":"body","description":"The rating data","required":true,"schema":{"$ref":"#/definitions/RatingNew"}}],"responses":{"200":{"description":"Success.  Returns the created rating.","schema":{"$ref":"#/definitions/Rating"}},"401":{"description":"Not authorized.  Happens when API ID or origin are not set."},"403":{"description":"Forbidden.  Happens when API ID or origin are not correct."},"500":{"description":"Server error.","schema":{"$ref":"#/definitions/Error"}}}}},"/ratings/{id}":{"get":{"summary":"Retrieve a rating","description":"Retrieve a rating.  Anyone with the rating ID (very hard to guess) can retrieve it.","operationId":"getRating","tags":["Ratings"],"security":[{"api_id":[]}],"parameters":[{"name":"id","in":"path","description":"ID of the rating to retrieve","required":true,"type":"string","format":"uuid"}],"responses":{"200":{"description":"Success.  Returns the requested rating.","schema":{"$ref":"#/definitions/Rating"}},"401":{"description":"Not authorized.  Happens when API ID or origin are not set."},"403":{"description":"Forbidden.  Happens when API ID or origin are not correct."},"404":{"description":"Not found"},"500":{"description":"Server error.","schema":{"$ref":"#/definitions/Error"}}}},"delete":{"summary":"Delete a rating","description":"Delete a rating.  Anyone with the rating ID (very hard to guess) can delete it.","operationId":"deleteRating","tags":["Ratings"],"security":[{"api_id":[]}],"parameters":[{"name":"id","in":"path","description":"ID of the rating to delete","required":true,"type":"string","format":"uuid"}],"responses":{"200":{"description":"Success.  Returns the deleted rating.","schema":{"$ref":"#/definitions/Flag"}},"401":{"description":"Not authorized.  Happens when API ID or origin are not set."},"403":{"description":"Forbidden.  Happens when API ID or origin are not correct."},"404":{"description":"Not found"},"500":{"description":"Server error.","schema":{"$ref":"#/definitions/Error"}}}}},"/apps":{"post":{"summary":"Create a new app","description":"Create a new app with some values pre-populated; does not take initial values","operationId":"createApp","parameters":[{"name":"group_id","in":"query","description":"ID under which the new app should be grouped (e.g. the UUID) of the app owner.  Can be used to later retrieve all apps in the same group at once.","required":false,"type":"string"}],"security":[{"api_token":[]}],"tags":["Apps"],"responses":{"200":{"description":"Success.  Returns the created app.","schema":{"$ref":"#/definitions/App"}},"401":{"description":"Not authorized.  Happens when API token is not set."},"403":{"description":"Forbidden.  Happens when API token is not correct."},"500":{"description":"Server error.","schema":{"$ref":"#/definitions/Error"}}}},"get":{"summary":"Get all apps matching a query","description":"Get all apps matching a query.","operationId":"getApps","parameters":[{"name":"group_id","in":"query","description":"ID under which apps are grouped (e.g. the UUID) of the app owner.If not provided, returns all apps.","required":false,"type":"string"}],"security":[{"api_token":[]}],"tags":["Apps"],"responses":{"200":{"description":"Success.  Returns the requested apps.","schema":{"type":"array","items":{"$ref":"#/definitions/App"}}},"401":{"description":"Not authorized.  Happens when API token is not set."},"403":{"description":"Forbidden.  Happens when API token is not correct."},"500":{"description":"Server error.","schema":{"$ref":"#/definitions/Error"}}}}},"/apps/{id}":{"get":{"summary":"Get a specific app","description":"Returns all information about a specific app","operationId":"getApp","parameters":[{"name":"id","in":"path","description":"ID of the app","required":true,"type":"string","format":"uuid"}],"security":[{"api_token":[]}],"tags":["Apps"],"responses":{"200":{"description":"Success.  Returns the requested app.","schema":{"$ref":"#/definitions/App"}},"401":{"description":"Not authorized.  Happens when API token is not set."},"403":{"description":"Forbidden.  Happens when API token is not correct."},"404":{"description":"Not found"},"500":{"description":"Server error.","schema":{"$ref":"#/definitions/Error"}}}},"put":{"summary":"Update an app","description":"Update an app with the provided values.","operationId":"updateApp","security":[{"api_token":[]}],"tags":["Apps"],"parameters":[{"name":"id","in":"path","description":"ID of the app","required":true,"type":"string","format":"uuid"},{"name":"app","in":"body","description":"The app data","schema":{"$ref":"#/definitions/AppUpdate"}}],"responses":{"200":{"description":"Success.  Returns the updated app.","schema":{"$ref":"#/definitions/App"}},"401":{"description":"Not authorized.  Happens when API token is not set."},"403":{"description":"Forbidden.  Happens when API token is not correct."},"404":{"description":"Not found"},"500":{"description":"Server error.","schema":{"$ref":"#/definitions/Error"}}}},"delete":{"summary":"Delete an app","description":"Delete the specified app","operationId":"deleteApp","security":[{"api_token":[]}],"tags":["Apps"],"parameters":[{"name":"id","in":"path","description":"ID of the app to delete","required":true,"type":"string","format":"uuid"}],"responses":{"200":{"description":"Success.  Returns the deleted app.","schema":{"$ref":"#/definitions/App"}},"401":{"description":"Not authorized.  Happens when API token is not set."},"403":{"description":"Forbidden.  Happens when API token is not correct."},"404":{"description":"Not found"},"500":{"description":"Server error.","schema":{"$ref":"#/definitions/Error"}}}}},"/presentations":{"post":{"summary":"Indicate that content was presented","description":"Called when network content is presented to any end user","operationId":"createPresentation","tags":["Presentations"],"security":[{"api_id":[]}],"parameters":[{"name":"presentation","in":"body","description":"The presentation data","required":true,"schema":{"$ref":"#/definitions/Presentation"}}],"responses":{"200":{"description":"Success.  Returns data associated with the content that was presented.","schema":{"$ref":"#/definitions/PresentationResponse"}},"401":{"description":"Not authorized.  Happens when API ID or origin are not set."},"403":{"description":"Forbidden.  Happens when API ID or origin are not correct."},"500":{"description":"Server error.","schema":{"$ref":"#/definitions/Error"}}}}}},"definitions":{"AppUpdate":{"properties":{"name":{"type":"string","description":"Custom name set by app owner to help them manage apps"},"whitelisted_domains":{"type":"array","description":"List of domains that should be allowed to make cross-origin AJAX requests","items":{"type":"string"}}}},"App":{"required":["id","name","api_id","api_token"],"properties":{"id":{"type":"string","readOnly":true,"description":"Internally-set ID"},"api_id":{"type":"string","readOnly":true,"description":"Used to identify the app in unsecured API requests"},"api_token":{"type":"string","readOnly":true,"description":"Used to identify the app in secured API requests, normally as part of the HTTP header"},"group_id":{"type":"string","readOnly":true,"description":"Used to group apps"},"name":{"type":"string","description":"Custom name set by app owner to help them manage apps"},"whitelisted_domains":{"type":"array","description":"List of domains that should be allowed to make cross-origin AJAX requests","items":{"type":"string"}}}},"FlagNew":{"required":["content_uid","user_uid","type"],"properties":{"content_uid":{"type":"string","format":"uuid","description":"The a15k ID of the content being flagged."},"variant_id":{"type":"string","description":"The variant ID, only needed for generative assessments"},"user_uid":{"type":"string","description":"The ID of the user doing the flagging, unique in the scope of the reporting app"},"type":{"type":"string","description":"The type of flag","enum":["unspecified","typo","copyright_violation","incorrect","offensive"]},"explanation":{"type":"string","description":"The end-user's explanation of why they added this flag."}}},"Flag":{"required":["id","content_uid","user_uid","type"],"properties":{"id":{"type":"string","format":"uuid","readOnly":true,"description":"Internally-set UUID.  Used to retrieve and delete flags, so treat it as somewhat secret."},"content_uid":{"type":"string","format":"uuid","description":"The a15k ID of the content being flagged."},"variant_id":{"type":"string","description":"The variant ID, only needed for generative assessments"},"user_uid":{"type":"string","description":"The ID of the user doing the flagging, unique in the scope of the reporting app"},"type":{"type":"string","description":"The type of flag","enum":["unspecified","typo","copyright_violation","incorrect","offensive"]},"explanation":{"type":"string","description":"The end-user's explanation of why they added this flag."}}},"FlagUpdate":{"properties":{"type":{"type":"string","description":"The type of flag","enum":["unspecified","typo","copyright_violation","incorrect","offensive"]},"explanation":{"type":"string","description":"The end-user's explanation of why they added this flag."}}},"RatingNew":{"required":["content_uid","user_uid","value"],"properties":{"content_uid":{"type":"string","format":"uuid","description":"The a15k ID of the content being rated."},"variant_id":{"type":"string","description":"The variant ID, only needed for generative assessments"},"user_uid":{"type":"string","description":"The ID of the user doing the rating, unique in the scope of the reporting app"},"type":{"type":"string","description":"The type of rating","enum":["thumbs","five_star","full_range"]},"value":{"type":"number","format":"float","description":"The rating value.  Set value is based on the type, e.g. 1.0 is a thumbs up, -1.0 is a thumbs down.","minimum":-1.0,"maximum":1.0}}},"Rating":{"required":["id","content_uid","user_uid","value"],"properties":{"id":{"type":"string","format":"uuid","readOnly":true,"description":"Internally-set UUID.  Used to retrieve and delete ratings, so treat it as somewhat secret."},"content_uid":{"type":"string","format":"uuid","description":"The a15k ID of the content being rated."},"variant_id":{"type":"string","description":"The variant ID, only needed for generative assessments"},"user_uid":{"type":"string","description":"The ID of the user doing the rating, unique in the scope of the reporting app"},"type":{"type":"string","description":"The type of rating","enum":["thumbs","five_star","full_range"]},"value":{"type":"number","format":"float","description":"The rating value.  Set value is based on the type, e.g. 1.0 is a thumbs up, -1.0 is a thumbs down.","minimum":-1.0,"maximum":1.0}}},"Presentation":{"required":["content_uid","user_uid","presented_at"],"properties":{"content_uid":{"type":"string","format":"uuid","description":"The a15k ID of the content being presented."},"variant_id":{"type":"string","description":"The variant ID, only needed for generative assessments"},"user_uid":{"type":"string","description":"The ID of the user being presented with the content, unique in the scope of the reporting app"},"presented_at":{"type":"string","format":"date-time","description":"The date time when the content was presented to the end user, in ISO 8601 notation (https://tools.ietf.org/html/rfc3339#section-5.6), e.g. 2017-07-21T17:32:28Z"}}},"PresentationResponse":{"properties":{"flags":{"type":"array","description":"The flags associated with the presented assessment's a15k ID, the variant ID, the app ID, and the user ID","items":{"$ref":"#/definitions/Flag"}},"ratings":{"type":"array","description":"The ratings associated with the presented assessment's a15k ID, the variant ID, the app ID, and the user ID","items":{"$ref":"#/definitions/Rating"}}}},"Error":{"properties":{"status_code":{"type":"integer","description":"The HTTP status code"},"messages":{"type":"array","description":"The error messages, if any","items":{"type":"string"}}}}}}