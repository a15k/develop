{"swagger":"2.0","info":{"version":"1.0.0","title":"Assessment Network Interactions API","description":"\u003e\nRecords interactions with content distributed by the Assessment Network\n\nRequests to this API should include `application/vnd.interactions.a15k.org; version=1` in the\n`Accept` header.  While the API does support a default version, that version will change over\ntime and therefore should not be used in production code!\n\nA few endpoints require an API key to be passed in the request header.  These keys are available to members through www.a15k.org.\n","termsOfService":"http://a15k.org/terms/","contact":{"name":"info@a15k.org"},"license":{"name":"MIT"}},"securityDefinitions":{"api_token":{"type":"apiKey","name":"X-API-TOKEN","in":"header"},"api_id":{"type":"apiKey","name":"X-API-ID","in":"header"}},"tags":[{"name":"Apps","description":"Some API endpoints are limited to approved applications.  These endpoints  manage these applications and are restricted to system administrators."},{"name":"Flags","description":""}],"host":"localhost","basePath":"/api","consumes":["application/vnd.interactions.a15k.org; version=1"],"produces":["application/json"],"paths":{"/flags":{"post":{"summary":"Flag some content","description":"Adds a flag to some content for some user in some app.","operationId":"createFlag","tags":["Flags"],"security":[{"api_id":[]}],"parameters":[{"name":"flag","in":"body","description":"The flag data","required":true,"schema":{"$ref":"#/definitions/Flag"}}],"responses":{"200":{"description":"Success.  Returns the created flag.","schema":{"$ref":"#/definitions/Flag"}},"401":{"description":"Not authorized"},"403":{"description":"Forbidden"},"500":{"description":"Server error.","schema":{"$ref":"#/definitions/Error"}}}},"put":{"summary":"Update a flag","description":"Update a flag with the provided values.","operationId":"updateFlag","security":[{"api_id":[]}],"tags":["Flags"],"parameters":[{"name":"id","in":"path","description":"ID of the flag","required":true,"type":"string"},{"name":"flag","in":"body","description":"The flag data","schema":{"$ref":"#/definitions/Flag"}}],"responses":{"200":{"description":"Success.  Returns the updated flag.","schema":{"$ref":"#/definitions/Flag"}},"401":{"description":"Not authorized"},"403":{"description":"Forbidden"},"404":{"description":"Not found"},"500":{"description":"Server error.","schema":{"$ref":"#/definitions/Error"}}}}},"/flags/{id}":{"get":{"summary":"Retrieve a flag","description":"Retrieve a flag.  Anyone with the flag ID (very hard to guess) can retrieve it.","operationId":"getFlag","tags":["Flags"],"security":[{"api_id":[]}],"parameters":[{"name":"id","in":"path","description":"ID of the flag to retrieve","required":true,"type":"string"}],"responses":{"200":{"description":"Success.  Returns the requested flag.","schema":{"$ref":"#/definitions/Flag"}},"401":{"description":"Not authorized"},"403":{"description":"Forbidden"},"404":{"description":"Not found"},"500":{"description":"Server error.","schema":{"$ref":"#/definitions/Error"}}}},"delete":{"summary":"Delete a flag","description":"Delete a flag.  Anyone with the flag ID (very hard to guess) can delete it.","operationId":"deleteFlag","tags":["Flags"],"security":[{"api_id":[]}],"parameters":[{"name":"id","in":"path","description":"ID of the flag to delete","required":true,"type":"string"}],"responses":{"200":{"description":"Success.  Returns the deleted flag.","schema":{"$ref":"#/definitions/Flag"}},"401":{"description":"Not authorized"},"403":{"description":"Forbidden"},"404":{"description":"Not found"},"500":{"description":"Server error.","schema":{"$ref":"#/definitions/Error"}}}}},"/apps":{"post":{"summary":"Create a new app","description":"Create a new app with some values pre-populated; does not take initial values","operationId":"createApp","parameters":[{"name":"group_id","in":"query","description":"ID under which the new app should be grouped (e.g. the UUID) of the app owner.  Can be used to later retrieve all apps in the same group at once.","required":false,"type":"string"}],"security":[{"api_token":[]}],"tags":["Apps"],"responses":{"200":{"description":"Success.  Returns the created app.","schema":{"$ref":"#/definitions/App"}},"401":{"description":"Not authorized"},"403":{"description":"Forbidden"},"500":{"description":"Server error.","schema":{"$ref":"#/definitions/Error"}}}},"get":{"summary":"Get all apps matching a query","description":"Get all apps matching a query.","operationId":"getApps","parameters":[{"name":"group_id","in":"query","description":"ID under which apps are grouped (e.g. the UUID) of the app owner.If not provided, returns all apps.","required":false,"type":"string"}],"security":[{"api_token":[]}],"tags":["Apps"],"responses":{"200":{"description":"Success.  Returns the requested apps.","schema":{"type":"array","$ref":"#/definitions/App"}},"401":{"description":"Not authorized"},"403":{"description":"Forbidden"},"500":{"description":"Server error.","schema":{"$ref":"#/definitions/Error"}}}},"put":{"summary":"Update an app","description":"Update an app with the provided values.","operationId":"updateApp","security":[{"api_token":[]}],"tags":["Apps"],"parameters":[{"name":"id","in":"path","description":"ID of the app","required":true,"type":"string"},{"name":"app","in":"body","description":"The app data","schema":{"$ref":"#/definitions/App"}}],"responses":{"200":{"description":"Success.  Returns the updated app.","schema":{"$ref":"#/definitions/App"}},"401":{"description":"Not authorized"},"403":{"description":"Forbidden"},"404":{"description":"Not found"},"500":{"description":"Server error.","schema":{"$ref":"#/definitions/Error"}}}}},"/apps/{id}":{"get":{"summary":"Get a specific app","description":"Returns all information about a specific app","operationId":"getApp","parameters":[{"name":"id","in":"path","description":"ID of the app","required":true,"type":"string"}],"security":[{"api_token":[]}],"tags":["Apps"],"responses":{"200":{"description":"Success.  Returns the requested app.","schema":{"$ref":"#/definitions/App"}},"401":{"description":"Not authorized"},"403":{"description":"Forbidden"},"404":{"description":"Not found"},"500":{"description":"Server error.","schema":{"$ref":"#/definitions/Error"}}}},"delete":{"summary":"Delete an app","description":"Delete the specified app","operationId":"deleteApp","security":[{"api_token":[]}],"tags":["Apps"],"parameters":[{"name":"id","in":"path","description":"ID of the app to delete","required":true,"type":"string"}],"responses":{"200":{"description":"Success.  Returns the deleted app.","schema":{"$ref":"#/definitions/App"}},"401":{"description":"Not authorized"},"403":{"description":"Forbidden"},"404":{"description":"Not found"},"500":{"description":"Server error.","schema":{"$ref":"#/definitions/Error"}}}}}},"definitions":{"Flag":{"required":["id","app_uid","content_uid","user_uid","type"],"properties":{"id":{"type":"string","readOnly":true,"description":"Internally-set UUID.  Used to retrieve and delete flags, so treat it as somewhat secret."},"content_uid":{"type":"string","readOnly":true,"description":"The a15k ID of the content being flagged."},"variant_id":{"type":"string","readOnly":true,"description":"The variant ID, only needed for generative assessments"},"user_uid":{"type":"string","readOnly":true,"description":"The ID of the user doing the flagging, unique in the scope of the reporting app"},"type":{"type":"string","description":"The type of flag","enum":["unspecified","type","copyright_violation","incorrect","offensive"]},"explanation":{"type":"string","description":"The end-user's explanation of why they added this flag."}}},"App":{"required":["id","name","api_id","api_token"],"properties":{"id":{"type":"string","readOnly":true,"description":"Internally-set ID"},"name":{"type":"string","description":"Custom name set by app owner to help them manage apps"},"api_id":{"type":"string","readOnly":true,"description":"Used to identify the app in unsecured API requests"},"api_token":{"type":"string","readOnly":true,"description":"Used to identify the app in secured API requests, normally as part of the HTTP header"},"group_id":{"type":"string","readOnly":true,"description":"Used to group apps"},"whitelisted_domains":{"type":"array","description":"List of domains that should be allowed to make cross-origin AJAX requests","items":{"type":"string"}}}},"Error":{"properties":{"status_code":{"type":"integer","description":"The HTTP status code"},"messages":{"type":"array","description":"The error messages, if any","items":{"type":"string"}}}}}}